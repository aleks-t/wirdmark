<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WirdMark - Professional Watermark Tool | Protect Your Images Online</title>
    <meta name="description" content="Free online watermark tool for photographers, designers, and content creators. Add copyright protection to your images with our professional watermarking solution.">
    <meta name="keywords" content="watermark tool, image protection, copyright watermark, photo watermarking, digital watermark, image security">
    
    <!-- Open Graph -->
    <meta property="og:title" content="WirdMark - Professional Watermark Tool">
    <meta property="og:description" content="Professional watermark tool for image copyright protection and digital asset security.">
    <meta property="og:type" content="website">
    
    <!-- SEO -->
    <link rel="canonical" href="https://yourusername.github.io/watermark">
    <meta name="robots" content="index, follow">
    <meta name="author" content="WirdMark">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    
    <!-- Google AdSense - ADD YOUR PUBLISHER ID HERE -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1879187647627929"
         crossorigin="anonymous"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --primary: #000000;
            --primary-hover: #1a1a1a;
            --success: #000000;
            --gray-50: #fafafa;
            --gray-100: #f5f5f5;
            --gray-200: #e5e5e5;
            --gray-300: #d4d4d4;
            --gray-600: #525252;
            --gray-800: #262626;
            --gray-900: #171717;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            line-height: 1.6;
            color: var(--gray-900);
            background: var(--gray-50);
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 2rem 1rem;
        }
        
        @media (max-width: 968px) {
            .container {
                max-width: 100%;
                padding: 1.5rem 1rem;
            }
        }
        
        /* Header */
        .header {
            background: white;
            padding: 3rem 1rem;
            margin-bottom: 2rem;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5rem;
            color: var(--gray-900);
            margin-bottom: 1rem;
            font-weight: 800;
            letter-spacing: -0.5px;
        }
        
        .header .subheading {
            color: var(--gray-600);
            font-size: 1.3rem;
            margin-bottom: 1.5rem;
            line-height: 1.5;
        }
        
        .header .cta-text {
            color: var(--gray-800);
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        
        /* Content Sections */
        .content-section {
            background: white;
            padding: 2.5rem;
            margin-bottom: 2rem;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .content-section h2 {
            font-size: 1.75rem;
            color: var(--gray-900);
            margin-bottom: 1.5rem;
            padding-bottom: 0.75rem;
            border-bottom: 3px solid var(--primary);
        }
        
        .content-section h3 {
            font-size: 1.3rem;
            color: var(--gray-800);
            margin: 1.5rem 0 1rem 0;
        }
        
        .content-section p {
            margin-bottom: 1rem;
            color: var(--gray-600);
            line-height: 1.8;
        }
        
        .content-section ul, .content-section ol {
            margin: 1rem 0 1.5rem 2rem;
            color: var(--gray-600);
        }
        
        .content-section li {
            margin-bottom: 0.75rem;
            line-height: 1.7;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }
        
        .feature-card {
            background: var(--gray-50);
            padding: 1.5rem;
            border-radius: 8px;
            border-left: 4px solid var(--primary);
        }
        
        .feature-card h4 {
            color: var(--primary);
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }
        
        /* Tool Section */
        .tool-section {
            background: white;
            padding: 2rem;
            margin: 2rem 0;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .upload-zone {
            border: 2px dashed var(--gray-300);
            border-radius: 12px;
            padding: 3rem;
            text-align: center;
            background: var(--gray-50);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .upload-zone:hover {
            border-color: var(--primary);
            background: #eff6ff;
        }
        
        .upload-zone.replaced {
            padding: 1rem;
            border: 2px solid var(--gray-200);
        }
        
        .btn {
            display: inline-block;
            padding: 0.75rem 2rem;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn:hover {
            background: var(--primary-hover);
            transform: translateY(-1px);
        }
        
        .btn-success {
            background: var(--success);
        }
        
        .canvas-wrapper {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 1rem 0;
            position: relative;
        }
        
        #canvas {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .controls-panel {
            background: white;
            padding: 2rem;
            margin-top: 2rem;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .controls-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }
        
        .form-group label {
            display: block;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--gray-700);
        }
        
        .form-control {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--gray-300);
            border-radius: 6px;
            font-size: 1rem;
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }
        
        .remove-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #ef4444;
            color: white;
            border: none;
            border-radius: 50%;
            width: 32px;
            height: 32px;
            font-size: 20px;
            cursor: pointer;
            z-index: 10;
        }
        
        .hidden {
            display: none !important;
        }
        
        /* Ad Spaces */
        .ad-space {
            background: var(--gray-100);
            border: 1px solid var(--gray-200);
            border-radius: 8px;
            padding: 1rem;
            margin: 2rem auto;
            min-height: 250px;
            max-width: 728px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--gray-600);
        }
        
        @media (max-width: 768px) {
            .ad-space {
                min-height: 150px;
                max-width: 100%;
            }
        }
        
        /* FAQ */
        .faq-item {
            margin-bottom: 1rem;
            border: 1px solid var(--gray-200);
            border-radius: 8px;
            overflow: hidden;
        }
        
        .faq-question {
            font-weight: 600;
            color: var(--gray-900);
            font-size: 1.1rem;
            padding: 1.25rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: white;
            transition: background 0.2s;
            user-select: none;
        }
        
        .faq-question:hover {
            background: var(--gray-50);
        }
        
        .faq-question::after {
            content: '▼';
            font-size: 0.8rem;
            transition: transform 0.3s;
            color: var(--gray-600);
        }
        
        .faq-question.active::after {
            transform: rotate(180deg);
        }
        
        .faq-answer {
            color: var(--gray-600);
            line-height: 1.7;
            padding: 0 1.25rem;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease, padding 0.3s ease;
        }
        
        .faq-answer.active {
            max-height: 500px;
            padding: 0 1.25rem 1.25rem 1.25rem;
        }
        
        .collapsible-section {
            background: white;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            margin-bottom: 1.5rem;
            overflow: hidden;
        }
        
        .collapsible-header {
            padding: 1.5rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: white;
            border-bottom: 1px solid var(--gray-200);
            transition: background 0.2s;
            user-select: none;
        }
        
        .collapsible-header:hover {
            background: var(--gray-50);
        }
        
        .collapsible-header h2 {
            margin: 0;
            font-size: 1.5rem;
        }
        
        .collapsible-arrow {
            font-size: 1.2rem;
            transition: transform 0.3s;
            color: var(--gray-600);
        }
        
        .collapsible-arrow.active {
            transform: rotate(180deg);
        }
        
        .collapsible-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        
        .collapsible-content.active {
            max-height: 2000px;
        }
        
        .collapsible-content-inner {
            padding: 1.5rem;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .content-section {
                padding: 1.5rem;
            }
            
            .header {
                padding: 1.5rem 1rem;
            }
            
            .header h1 {
                font-size: 1.75rem;
            }
            
            .header .subheading {
                font-size: 1.1rem;
            }
            
            .header .cta-text {
                font-size: 1rem;
            }
            
            .header p {
                font-size: 1rem;
            }
            
            .controls-grid {
                grid-template-columns: 1fr;
            }
            
            .upload-zone {
                padding: 2rem 1rem;
            }
            
            .tool-section {
                padding: 1.5rem;
            }
            
            .controls-panel {
                padding: 1.5rem;
            }
            
            .collapsible-header h2 {
                font-size: 1.25rem;
            }
            
            .collapsible-content-inner {
                padding: 1rem;
            }
            
            canvas {
                max-width: 100%;
                height: auto;
            }
        }
        
        @media (max-width: 480px) {
            .container {
                padding: 1rem 0.75rem;
            }
            
            .header h1 {
                font-size: 1.5rem;
            }
            
            .header .subheading {
                font-size: 1rem;
            }
            
            .header .cta-text {
                font-size: 0.9rem;
            }
            
            .header p {
                font-size: 0.9rem;
            }
            
            .content-section {
                padding: 1.25rem;
            }
            
            .tool-section {
                padding: 1.25rem;
            }
            
            .controls-panel {
                padding: 1.25rem;
            }
            
            .upload-zone {
                padding: 1.5rem 1rem;
            }
            
            .btn {
                padding: 0.65rem 1.5rem;
                font-size: 0.95rem;
            }
            
            .collapsible-header {
                padding: 1.25rem;
            }
            
            .collapsible-header h2 {
                font-size: 1.1rem;
            }
            
            .faq-question {
                font-size: 1rem;
                padding: 1rem;
            }
            
            .form-control {
                padding: 0.65rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>🛡️ WirdMark - Professional Watermark Tool</h1>
            <p>Protect your digital assets with professional watermarking - Free, secure, and easy to use</p>
        </header>

        <!-- Introduction Content -->
        <section class="content-section">
            <h2>Professional Image Protection Made Simple</h2>
            <p>Whether you're a photographer, designer, or content creator, protecting your digital work is essential. Add professional watermarks to your images instantly with our free online tool - no software installation required.</p>
            
            <p>Your images are processed entirely in your browser for complete privacy and security. We never upload, store, or access your files.</p>
        </section>

        <!-- Ad Space 1 -->
        <div class="ad-space">
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-XXXXXXXXXX"
                 data-ad-slot="1111111111"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
            Advertisement
        </div>

        <!-- Free Tool Section -->
        <section class="tool-section">
            <h2 style="text-align: center; margin-bottom: 0.5rem;">Start Protecting Your Images Now</h2>
            <p style="margin-bottom: 2rem; color: var(--gray-600); text-align: center;">Upload your image below - it takes less than 30 seconds</p>
            
            <div class="upload-zone" id="uploadZone">
                <div id="uploadContent">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">📸</div>
                    <h3>Upload Your Image</h3>
                    <p style="color: var(--gray-600); margin: 1rem 0;">Drag and drop or click to select</p>
                    <input type="file" id="fileInput" class="hidden" accept="image/*">
                    <button type="button" class="btn" onclick="document.getElementById('fileInput').click()">
                        Choose Image
                    </button>
                    <p style="margin-top: 1rem; font-size: 0.9rem; color: var(--gray-600);">
                        Supports JPG, PNG, WebP • Max 10MB • 100% Client-Side Processing
                    </p>
                </div>
                
                <div class="canvas-wrapper hidden" id="canvasWrapper">
                    <button type="button" class="remove-btn hidden" id="removeBtn">×</button>
                    <canvas id="canvas"></canvas>
                </div>
                
                <button type="button" class="btn btn-success hidden" id="downloadBtn" style="margin-top: 1.5rem;">
                    💾 Download Watermarked Image
                </button>
            </div>
        </section>

        <!-- Controls -->
        <section class="controls-panel hidden" id="controlsPanel">
            <h2>⚙️ Customize Your Watermark</h2>
            <div class="controls-grid">
                <div class="form-group">
                    <label for="watermarkText">Watermark Text</label>
                    <input type="text" id="watermarkText" class="form-control" value="© PROTECTED" maxlength="50">
                </div>
                <div class="form-group">
                    <label for="fontSize">Font Size: <span id="fontSizeValue">24px</span></label>
                    <input type="range" id="fontSize" class="form-control" min="10" max="100" value="24">
                </div>
                <div class="form-group">
                    <label for="opacity">Opacity: <span id="opacityValue">30%</span></label>
                    <input type="range" id="opacity" class="form-control" min="10" max="100" step="10" value="30">
                </div>
                <div class="form-group">
                    <label for="angle">Rotation: <span id="angleValue">-15°</span></label>
                    <input type="range" id="angle" class="form-control" min="-45" max="45" value="-15">
                </div>
                <div class="form-group">
                    <label for="color">Color</label>
                    <input type="color" id="color" class="form-control" value="#ffffff">
                </div>
                <div class="form-group">
                    <label for="spacing">Spacing: <span id="spacingValue">120px</span></label>
                    <input type="range" id="spacing" class="form-control" min="50" max="300" value="120">
                </div>
            </div>
        </section>

        <!-- How It Works -->
        <div class="collapsible-section">
            <div class="collapsible-header" onclick="toggleSection(this)">
                <h2>How to Use WirdMark - Step by Step Guide</h2>
                <span class="collapsible-arrow">▼</span>
            </div>
            <div class="collapsible-content">
                <div class="collapsible-content-inner">
                    <h3>Step 1: Upload Your Image</h3>
                    <p>Click the upload area above or drag and drop your image file. We support all major image formats including JPG, PNG, and WebP. Your images are processed entirely in your browser - nothing is uploaded to our servers, ensuring complete privacy and security.</p>
                    
                    <h3>Step 2: Customize Your Watermark</h3>
                    <p>Once your image is loaded, use our intuitive controls to customize your watermark:</p>
                    <ul>
                        <li><strong>Text:</strong> Enter your copyright notice, brand name, or any text you want to display</li>
                        <li><strong>Size:</strong> Adjust the font size from subtle to prominent (10-100px)</li>
                        <li><strong>Opacity:</strong> Control transparency from 10% (barely visible) to 100% (solid)</li>
                        <li><strong>Rotation:</strong> Angle your watermark from -45° to 45° for diagonal placement</li>
                        <li><strong>Color:</strong> Choose any color to match your brand or ensure visibility</li>
                        <li><strong>Spacing:</strong> Set the distance between repeated watermarks (50-300px)</li>
                    </ul>
                    
                    <h3>Step 3: Download Your Protected Image</h3>
                    <p>Once satisfied with your watermark, simply click the download button. Your watermarked image will be saved as a high-quality PNG file, ready to share online or use in your projects.</p>
                    
                    <h3>Privacy & Security</h3>
                    <p>WirdMark processes all images directly in your web browser using HTML5 Canvas technology. This means your images never leave your device - there's no server upload, no data collection, and complete privacy. We don't store, analyze, or have any access to your images whatsoever.</p>
                </div>
            </div>
        </div>

        <!-- Ad Space 2 -->
        <div class="ad-space">
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-XXXXXXXXXX"
                 data-ad-slot="2222222222"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
            Advertisement
        </div>

        <!-- Best Practices -->
        <div class="collapsible-section">
            <div class="collapsible-header" onclick="toggleSection(this)">
                <h2>Tips for Effective Watermarking</h2>
                <span class="collapsible-arrow">▼</span>
            </div>
            <div class="collapsible-content">
                <div class="collapsible-content-inner">
                    <h3>Opacity Settings</h3>
                    <p>For most images, 20-40% opacity works best. This keeps your watermark visible while maintaining the image's aesthetic appeal. Higher opacity (50-70%) offers stronger protection but may be more distracting.</p>
                    
                    <h3>Size Guidelines</h3>
                    <p>Your watermark should be readable but not dominating. Aim for 5-15% of the total image area. For high-resolution images, use larger font sizes (40-60px).</p>
                    
                    <h3>Color Selection</h3>
                    <p>White watermarks work best on dark images, while dark watermarks suit lighter backgrounds. For versatility, white text at 30-40% opacity works across most images.</p>
                    
                    <h3>Consistent Branding</h3>
                    <p>Use the same watermark style across all your images to build brand recognition. Include your copyright symbol (©), year, and name or business identifier.</p>
                </div>
            </div>
        </div>

        <!-- FAQ Section -->
        <div class="collapsible-section">
            <div class="collapsible-header" onclick="toggleSection(this)">
                <h2>Frequently Asked Questions</h2>
                <span class="collapsible-arrow">▼</span>
            </div>
            <div class="collapsible-content">
                <div class="collapsible-content-inner">
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFAQ(this)">Is this tool completely free?</div>
                        <div class="faq-answer">Yes, WirdMark is 100% free with no limitations. Watermark unlimited images without any costs or subscriptions.</div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFAQ(this)">Are my images stored on your servers?</div>
                        <div class="faq-answer">No. All processing happens in your browser. Your images never leave your device and we have zero access to them.</div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFAQ(this)">What image formats do you support?</div>
                        <div class="faq-answer">We support JPG, PNG, WebP, and GIF files up to 10MB. Output is saved as high-quality PNG.</div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question" onclick="toggleFAQ(this)">Can I use this for commercial projects?</div>
                        <div class="faq-answer">Yes! Use WirdMark for any purpose - personal, commercial, client work, or business projects.</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Legal Information -->
        <section class="content-section">
            <h2>Privacy & Security</h2>
            
            <p>WirdMark processes all images directly in your web browser using HTML5 Canvas technology. This means your images never leave your device - there's no server upload, no data collection, and complete privacy. We don't store, analyze, or have any access to your images.</p>
            
            <p>All watermarking happens client-side in real-time. Your original files remain on your computer, and only you have access to the watermarked versions you download.</p>
        </section>

        <!-- Footer -->
        <footer style="text-align: center; padding: 2rem; color: var(--gray-600); margin-top: 3rem;">
            <p>&copy; 2025 WirdMark. All rights reserved. | <a href="#" style="color: var(--primary);">Privacy Policy</a> | <a href="#" style="color: var(--primary);">Terms of Service</a></p>
            <p style="margin-top: 0.5rem; font-size: 0.9rem;">Professional watermarking made simple and secure</p>
        </footer>
    </div>

    <script>
        // Configuration
        const MAX_FILE_SIZE = 10 * 1024 * 1024;
        const ALLOWED_TYPES = ['image/jpeg', 'image/png', 'image/webp', 'image/gif'];
        
        // DOM Elements
        const fileInput = document.getElementById('fileInput');
        const uploadZone = document.getElementById('uploadZone');
        const canvas = document.getElementById('canvas');
        const canvasWrapper = document.getElementById('canvasWrapper');
        const uploadContent = document.getElementById('uploadContent');
        const ctx = canvas.getContext('2d');
        const downloadBtn = document.getElementById('downloadBtn');
        const removeBtn = document.getElementById('removeBtn');
        const controlsPanel = document.getElementById('controlsPanel');
        
        let originalImage = null;
        let watermarkTimeout = null;
        
        // Controls
        const controls = {
            watermarkText: document.getElementById('watermarkText'),
            fontSize: document.getElementById('fontSize'),
            opacity: document.getElementById('opacity'),
            angle: document.getElementById('angle'),
            color: document.getElementById('color'),
            spacing: document.getElementById('spacing')
        };
        
        // Event Listeners
        fileInput.addEventListener('change', e => {
            const file = e.target.files[0];
            if (file) processFile(file);
        });
        
        uploadZone.addEventListener('click', () => {
            if (!uploadZone.classList.contains('replaced')) {
                fileInput.click();
            }
        });
        
        uploadZone.addEventListener('dragover', e => {
            e.preventDefault();
            uploadZone.style.borderColor = 'var(--primary)';
        });
        
        uploadZone.addEventListener('dragleave', () => {
            uploadZone.style.borderColor = 'var(--gray-300)';
        });
        
        uploadZone.addEventListener('drop', e => {
            e.preventDefault();
            uploadZone.style.borderColor = 'var(--gray-300)';
            const file = e.dataTransfer.files[0];
            if (file) processFile(file);
        });
        
        Object.values(controls).forEach(control => {
            control.addEventListener('input', () => {
                updateValueDisplays();
                debounceWatermark();
            });
        });
        
        downloadBtn.addEventListener('click', downloadImage);
        removeBtn.addEventListener('click', resetTool);
        
        // Functions
        function processFile(file) {
            if (!ALLOWED_TYPES.includes(file.type)) {
                alert('Please upload a valid image file (JPG, PNG, WebP, or GIF)');
                return;
            }
            if (file.size > MAX_FILE_SIZE) {
                alert('File too large. Maximum size is 10MB');
                return;
            }
            
            const reader = new FileReader();
            reader.onload = e => {
                const img = new Image();
                img.onload = () => {
                    originalImage = img;
                    setupCanvas();
                    updateWatermark();
                    showControls();
                };
                img.src = e.target.result;
            };
            reader.readAsDataURL(file);
        }
        
        function setupCanvas() {
            const maxWidth = 600;
            const maxHeight = 400;
            let width = originalImage.width;
            let height = originalImage.height;
            
            if (width > maxWidth || height > maxHeight) {
                const ratio = Math.min(maxWidth / width, maxHeight / height);
                width *= ratio;
                height *= ratio;
            }
            
            canvas.width = width;
            canvas.height = height;
            
            uploadContent.classList.add('hidden');
            canvasWrapper.classList.remove('hidden');
            removeBtn.classList.remove('hidden');
            downloadBtn.classList.remove('hidden');
            uploadZone.classList.add('replaced');
        }
        
        function showControls() {
            controlsPanel.classList.remove('hidden');
            controlsPanel.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }
        
        function updateWatermark() {
            if (!originalImage) return;
            
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.drawImage(originalImage, 0, 0, canvas.width, canvas.height);
            
            const text = controls.watermarkText.value.trim() || '© PROTECTED';
            const size = parseInt(controls.fontSize.value);
            const opacity = parseInt(controls.opacity.value) / 100;
            const angle = parseInt(controls.angle.value) * Math.PI / 180;
            const color = controls.color.value;
            const spacing = parseInt(controls.spacing.value);
            
            ctx.font = `bold ${size}px sans-serif`;
            ctx.fillStyle = color;
            ctx.globalAlpha = opacity;
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            
            const textWidth = ctx.measureText(text).width;
            
            for (let x = -textWidth; x < canvas.width + textWidth; x += spacing) {
                for (let y = -size; y < canvas.height + size; y += spacing) {
                    ctx.save();
                    ctx.translate(x, y);
                    ctx.rotate(angle);
                    ctx.fillText(text, 0, 0);
                    ctx.restore();
                }
            }
            ctx.globalAlpha = 1;
        }
        
        function debounceWatermark() {
            clearTimeout(watermarkTimeout);
            watermarkTimeout = setTimeout(updateWatermark, 100);
        }
        
        function updateValueDisplays() {
            document.getElementById('fontSizeValue').textContent = controls.fontSize.value + 'px';
            document.getElementById('opacityValue').textContent = controls.opacity.value + '%';
            document.getElementById('angleValue').textContent = controls.angle.value + '°';
            document.getElementById('spacingValue').textContent = controls.spacing.value + 'px';
        }
        
        function downloadImage() {
            canvas.toBlob(blob => {
                const link = document.createElement('a');
                link.download = `wirdmark-protected-${Date.now()}.png`;
                link.href = URL.createObjectURL(blob);
                link.click();
                URL.revokeObjectURL(link.href);
            }, 'image/png', 0.95);
        }
        
        function resetTool() {
            originalImage = null;
            fileInput.value = '';
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            uploadContent.classList.remove('hidden');
            canvasWrapper.classList.add('hidden');
            removeBtn.classList.add('hidden');
            downloadBtn.classList.add('hidden');
            controlsPanel.classList.add('hidden');
            uploadZone.classList.remove('replaced');
        }
        
        // Initialize value displays
        updateValueDisplays();
        
        // Collapsible sections
        function toggleSection(header) {
            const arrow = header.querySelector('.collapsible-arrow');
            const content = header.nextElementSibling;
            
            arrow.classList.toggle('active');
            content.classList.toggle('active');
        }
        
        // FAQ toggle
        function toggleFAQ(question) {
            question.classList.toggle('active');
            const answer = question.nextElementSibling;
            answer.classList.toggle('active');
        }
        
        // Initialize AdSense (if you have a real publisher ID)
        // Replace ca-pub-XXXXXXXXXX with your actual AdSense publisher ID
        if (window.adsbygoogle && ADSENSE_PUBLISHER_ID !== 'ca-pub-XXXXXXXXXX') {
            (adsbygoogle = window.adsbygoogle || []).push({});
            (adsbygoogle = window.adsbygoogle || []).push({});
        }
    </script>
</body>
</html>
